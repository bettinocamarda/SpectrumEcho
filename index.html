<html>

<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./beerslider//beerslider.css">
    <title>SpectrumEcho - Trasforma un'immagine in suono</title>
    <meta name="description" content="SpectrumEcho: Trasforma le tue immagini in spettrogrammi sonori. Progetto di Bettino Camarda."> 
    <meta name="keywords" content="image to sound, image to audio, image, sound, audio, spectrum, spectrogram, encoder">
    <meta name="author" content="Bettino Camarda">
    <meta name="og:title" property="og:title" content="SpectrumEcho - Trasforma un'immagine in suono">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

	</head>


<body>
    <div class="container">
        <div class="first-page">
            <div class="big-title">
    <a id="logo-link" href="https://github.com/bettinocamarda/SpectrumEcho">
        <img src="logo2.png" alt="Logo SpectrumEcho" class="logo-spectrumecho"/>
    </a>
				
				
    <p>Trasforma un'immagine in spettro sonoro</p>
</div>
			
			
			
            <div class="before-after">
                <div id="slider" class="beer-slider" data-beer-label="">
                    <img class="before-after-img" src="A2.png"alt="image as sound" />
                    <div class="beer-reveal" data-beer-label="">
                        <img class="before-after-img" src="A1.png" />
                    </div>
                </div>
            </div>
        </div>
		
		<div class="logo-container">
    <span class="created-by">Creato da:</span> <!-- Testo aggiunto -->
    <a href="https://www.threads.net/@bettino.camarda" target="_blank">
        <img src="logo-BC.png" alt="Logo">
    </a>
</div>
		
		
		<div class="page">
    <label for="fileBrowser" class="upload-image">
        <img src="UP2.png" alt="Carica un'immagine" />
    </label>
    <input id="fileBrowser" type="file" name="name" style="display: none;" accept="image/*">
    <canvas id="canvas" class="invisible"></canvas>
    <div class="label"></div>
</div>
		
       


            <div id="settings" class="settings invisible">
                <div class="settings-row">
                    <div class="control">
                        Length in seconds: <input id="lengthInSeconds" type="number" class="nr-input" value="3" min="1"
                            max="99" />
                    </div>
                </div>
                <span>&darr;</span>
                <button id="generateButton" class="inline-button">Convert...</button>
            </div>
            <div style="min-height:100px"></div>
</div>
        <div id="previewPage" class="page invisible">
            <div class="test-box-container">
                <canvas id="spectrum-canvas" width="800px" height="600px"></canvas>
                <div id="audioControls"></div>
                <div id="play-icon">
                    <div id="playButton" class="inline-button">Play></div>
                </div>
            </div>
            <button id="download-link-container" class="inline-button">Download .WAV...</button>
            <div class="footer">
               
               
            </div>
        </div>

    </div>


    <div id="waitScreen" class="invisible">
        <div id="waitMessage">Please Wait...</div>
    </div>


    <script src="js/jquery.min.js"></script>
    <script src="js/riffwave.js"></script>
    <script src="js/FileSave.js"></script>
    <script src="js/engine.js"></script>
    <script src="./beerslider/beerslider.js"></script>


    <script>
        new BeerSlider(document.getElementById('slider'), {
            start: '50',
            prefix: 'beer'
        });
    </script>

    <script type="text/javascript">
        $(document).ready(() => {
            $('#uploadImage').on('click', () => {
                $("#fileBrowser").trigger("click");
            });

            $('#fileBrowser').on('change', () => {
                resetImgSelection()
                resetPlayFlow()

                $('#lengthInSeconds').val('3')
                
                loadCanvas($('#fileBrowser')[0].files[0])
                $("#settings").removeClass('invisible')
                window.scrollTo(0, 300 + window.scrollY)
            });

            $('#generateButton').on('click', () => {
                showLoading()
                resetPlayFlow()
                setTimeout(() => getImageData(),100)
            });

            $('#galleryImg1').on('click', () => {
                resetImgSelection()
                $('#lengthInSeconds').val('3')
                $('#galleryImg1').addClass('img-selected')
                loadCanvasFromExampleFiles($('#galleryImg1').attr('src'))
                $("#settings").removeClass('invisible')
                window.scrollTo(0, 300 + window.scrollY);
            })

            $('#galleryImg2').on('click', () => {
                resetImgSelection()
                $('#lengthInSeconds').val('6')
                $('#galleryImg2').addClass('img-selected')
                loadCanvasFromExampleFiles($('#galleryImg2').attr('src'))
                $("#settings").removeClass('invisible')
                window.scrollTo(0, 300 + window.scrollY);
            })

            $('#galleryImg3').on('click', () => {
                resetImgSelection()
                $('#lengthInSeconds').val('5')
                $('#galleryImg3').addClass('img-selected')
                loadCanvasFromExampleFiles($('#galleryImg3').attr('src'))
                $("#settings").removeClass('invisible')
                window.scrollTo(0, 300 + window.scrollY);
            })

            function resetImgSelection() {
                $('#galleryImg1').removeClass('img-selected')
                $('#galleryImg2').removeClass('img-selected')
                $('#galleryImg3').removeClass('img-selected')
            }

            $('#play-icon').on('click', () => {
                playFlow()
            })
            $('#playButton').on('click', () => {
                playFlow()
            })

            function playFlow() {
                $('#play-icon').addClass('invisible')
                $('#playButton').addClass('invisible')
                document.getElementById('audioPlayer').play()
            }

            function resetPlayFlow() {
                $('#play-icon').removeClass('invisible')
                $('#playButton').removeClass('invisible')
                $('#previewPage').addClass('invisible')
            }

        });
    </script>
</body>

</html>
